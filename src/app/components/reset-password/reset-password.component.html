<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light navbar-laravel">
  <div class="container">
    <a class="navbar-brand" href="https://ideorttechnologies.com/">Aideort Technologies PVT LTD.</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item"><a class="nav-link" routerLink="/loginserviceprovider">Login</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main -->
<main class="login-form">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header text-center" >Reset Password</div>
          <div class="card-body">
           <form (ngSubmit)="onResetPassword()" #resetForm="ngForm">

  <!-- 📧 Email -->
  <div class="form-group row">
    <label for="email" class="col-md-4 col-form-label text-md-right">Email Address</label>
    <div class="col-md-6">
      <input
        type="email"
        id="email"
        class="form-control"
        name="email"
        placeholder="Your email"
        [(ngModel)]="resetData.email"
        required
        email
        #emailModel="ngModel"
      />
      <!-- Email error -->
      <div *ngIf="emailModel.invalid && emailModel.touched" class="text-danger">
        Please enter a valid email address.
      </div>
    </div>
  </div>

  <!-- 🔐 New Password -->
  <div class="form-group row">
    <label for="newPassword" class="col-md-4 col-form-label text-md-right">New Password</label>
    <div class="col-md-6">
  <div class="password-wrapper">
    <input
      [type]="showPassword ? 'text' : 'password'"
      id="newPassword"
      class="form-control"
      name="newPassword"
      placeholder="New password"
      [(ngModel)]="resetData.newPassword"
      required
      minlength="8"
      pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*]).+$"
      #passwordModel="ngModel"
    />

    <!-- 👁 Eye Button -->
    <button type="button" class="eye-btn" (click)="togglePassword()">
      <i [ngClass]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
    </button>
  </div>

  <!-- Password errors -->
  <div *ngIf="passwordModel.invalid && passwordModel.touched" class="text-danger mt-1">
    <small *ngIf="passwordModel.errors?.['required']">Password is required.</small>
    <small *ngIf="passwordModel.errors?.['minlength']">Password must be at least 8 characters long.</small>
    <small *ngIf="passwordModel.errors?.['pattern']">
      Must include at least 1 uppercase, 1 lowercase, 1 number, and 1 special character.
    </small>
  </div>
</div>

  </div>

  <!-- ✅ Submit -->
  <div class="form-group row">
    <div class="col-md-6 offset-md-4">
      <button type="submit" class="btn btn-primary" [disabled]="resetForm.invalid">Update Password</button>
    </div>
  </div>

  <!-- 💬 Message -->
  <div class="form-group row" *ngIf="message">
    <div class="col-md-6 offset-md-4">
      <p class="text-success">{{ message }}</p>
    </div>
  </div>

</form>

          </div>
        </div>
      </div>
    </div>
  </div>
</main>
